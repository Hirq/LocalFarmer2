@page "/"
@inject UserStateService UserStateService

<PageTitle>Index | @Globals.AppName</PageTitle>

<MudGrid Class="m-0 w-100">
    <MudItem xs="12" Class="dashboard-paper-name-farmhouse">
        <MudPaper Class="d-flex align-center justify-center mud-width-full py-8">- @loc["Dashboard_LocalFarmer"] -</MudPaper>
    </MudItem>

    <AuthorizeView>
        <Authorized>
            @if (UserStateService.CurrentUser?.IdFarmhouse != null)
            {
                <MudItem xs="12" sm="6" Class="dashboard-button">
                    <MudButton Variant="Variant.Outlined" Class="d-flex align-center justify-center mud-width-full py-8" Href="/myproducts">@loc["Product_My_Products"]</MudButton>
                </MudItem>
                <MudItem xs="12" sm="6" Class="dashboard-button">
                    <MudButton Variant="Variant.Outlined" Class="d-flex align-center justify-center mud-width-full py-8" Href="/addproduct">@loc["Product_Add_Product"]</MudButton>
                </MudItem>
                <MudItem xs="12" sm="6" Class="dashboard-button">
                    <MudButton Variant="Variant.Outlined" Class="d-flex align-center justify-center mud-width-full py-8" Href="/notes">@loc["X_Notes"]</MudButton>
                </MudItem>
                <MudItem xs="12" sm="6" Class="dashboard-button">
                    <MudButton Variant="Variant.Outlined" Class="d-flex align-center justify-center mud-width-full py-8" Href="/editfarmhouse">@loc["Farmhouse_Edit_Farmhouse"]</MudButton>
                </MudItem>
            }
            else
            {
                <MudItem xs="12" sm="6" Class="dashboard-button">
                    <MudButton Variant="Variant.Outlined" Class="d-flex align-center justify-center mud-width-full py-8" Href="/addFarmhouse">@loc["Farmhouse_Add_Farmhouse"]</MudButton>
                </MudItem>
                <MudItem xs="12" sm="6" Class="dashboard-button">
                    <MudButton Variant="Variant.Outlined" Class="d-flex align-center justify-center mud-width-full py-8" Href="/farmhouses">@loc["Farmhouse_List_Farmhouses"]</MudButton>
                </MudItem>
                <MudItem xs="12" sm="6" Class="dashboard-button">
                    <MudButton Variant="Variant.Outlined" Class="d-flex align-center justify-center mud-width-full py-8" Href="/notes">@loc["X_Notes"]</MudButton>
                </MudItem>
            }
        </Authorized>
        <NotAuthorized>
            <MudItem xs="12" Class="dashboard-paper-name-farmhouse">
                <MudPaper Class="d-flex flex-column align-center mud-width-full py-8">
                    <MudText Typo="Typo.h5">@loc["Dashboard_Hello"] </MudText>
                        <MudText Typo="Typo.h5">@loc["Dashboard_Hello2"] </MudText>
                </MudPaper>
            </MudItem>
            <MudItem xs="12" sm="6" Class="dashboard-button">
                <MudButton Variant="Variant.Outlined" Class="d-flex align-center justify-center mud-width-full py-8" Href="/register">@loc["Account_Create_Account"]</MudButton>
            </MudItem>
            <MudItem xs="12" sm="6" Class="dashboard-button">
                <MudButton Variant="Variant.Outlined" Class="d-flex align-center justify-center mud-width-full py-8" Href="/farmhouses">@loc["Farmhouse_List_Farmhouses"]</MudButton>
            </MudItem>
        </NotAuthorized>
    </AuthorizeView>
</MudGrid>

@code {
    protected override async Task OnParametersSetAsync()
    {
        await base.OnParametersSetAsync();
        int? idFarmhouse = UserStateService.CurrentUser?.IdFarmhouse;
        var idUser = UserStateService.CurrentUser?.IdUser;
    }
}

@*
Deploy aplikacje !!!
0. Dodać więcej pozycji aby spradzić sortowanie i od razu alerty
1. Alerty sprawdzić czy sie wszystko dobrze zapisuje itd
2. Zrobić deploy
3. PP - jakas trzeba przygotować + na malym rozdzielczosci zle sie zachowuje, bo tekst wchodzi pod lewy panel.

10. Select all - cash itd tylko po ang - Złe tłumaczenie dla metod płacenia i wtedy też źle sie zpaisuje na db - albo źle wyświetla. Trzeba to zpaisać Boolem na bazie i odczytywać te numery, a następnie tłumaczyć albo nie wiem jak. Zrobić na bazie Cash bool, bank transfer bool itd. i wtdy odczytywać z bazy

10. Usuń produkt - chyba tez powinna być nazwa tego produktu co usuwamy - tak jak przy notatkach / Usuń notatkę powinno być
13. Usuń opinia -> czy dodajemy co usuwamy? ze 'o gopodarstwie [nazwa]'






3. Na koniec
- Sprawdzić sortowanie - chyba od 2 znaków
- add farmhouse -> niech zapyta o dostęp do lokalizacji - jezeli pozwolimy to niech zczyta i ustawi nam to co znalazł

5. Zamykać appke
*@

@* SMALL TASKS *@
@*
3.
Nalezy wykorzystać funkcje z ValidateService dla szerokości i wysokość geograficznej - pytanie czy gdzieś jeszcze to można zmienić? bo tylko mapa jest 
-> wydaje mi się, że dobrze by było wyłaczyć na chwile enabled i dodać kontrole z tych funkcji a potem ustawić to z powrtem

*@



@* ------------------- *@

@* hosting  *@
@* Płatny dla ponoć dobry *@
@* https://www.webio.pl/ *@

@* Do sprawdzenia *@
@* https://www.ovhcloud.com/pl/ *@
@* https://azure.microsoft.com/pl-pl/products/app-service/ *@

@* Ponoć free *@
@* https://freeasphosting.net/ *@
@page "/"
@inject UserStateService UserStateService
<PageTitle>Index</PageTitle>

<MudGrid Class="m-0 w-100">
    <MudItem xs="12" Class="dashboard-paper-name-farmhouse">
        <MudPaper Class="d-flex align-center justify-center mud-width-full py-8">- Local Farmer -</MudPaper>
    </MudItem>

    <AuthorizeView>
        <Authorized>
            @if (UserStateService.CurrentUser?.IdFarmhouse != null)
            {
                <MudItem xs="12" sm="6" Class="dashboard-button">
                    <MudButton Variant="Variant.Outlined" Class="d-flex align-center justify-center mud-width-full py-8" Href="/myproducts">My products</MudButton>
                </MudItem>
                <MudItem xs="12" sm="6" Class="dashboard-button">
                    <MudButton Variant="Variant.Outlined" Class="d-flex align-center justify-center mud-width-full py-8" Href="/addproduct">Add product</MudButton>
                </MudItem>
                <MudItem xs="12" sm="6" Class="dashboard-button">
                    <MudButton Variant="Variant.Outlined" Class="d-flex align-center justify-center mud-width-full py-8" Href="/editfarmhouse">Edit farmhouse</MudButton>
                </MudItem>
            }
            else
            {
                <MudItem xs="12" sm="6" Class="dashboard-button">
                    <MudButton Variant="Variant.Outlined" Class="d-flex align-center justify-center mud-width-full py-8" Href="/addFarmhouse">Create own farmhouse </MudButton>
                </MudItem>
                <MudItem xs="12" sm="6" Class="dashboard-button">
                    <MudButton Variant="Variant.Outlined" Class="d-flex align-center justify-center mud-width-full py-8" Href="/farmhouses">Check farmhouses</MudButton>
                </MudItem>
            }
        </Authorized>
        <NotAuthorized>
            <MudItem xs="12" Class="dashboard-paper-name-farmhouse">
                <MudPaper Class="d-flex flex-column align-center mud-width-full py-8">
                    <MudText Typo="Typo.h5">Hello! Here you find local farmers. </MudText>
                    <MudText Typo="Typo.h5">Are u need fresh vegetables or preserve? Check you region and buy from farmhouse. </MudText>
                </MudPaper>
            </MudItem>
            <MudItem xs="12" sm="6" Class="dashboard-button">
                <MudButton Variant="Variant.Outlined" Class="d-flex align-center justify-center mud-width-full py-8" Href="/register">Create account</MudButton>
            </MudItem>
            <MudItem xs="12" sm="6" Class="dashboard-button">
                <MudButton Variant="Variant.Outlined" Class="d-flex align-center justify-center mud-width-full py-8" Href="/farmhouses">Check farmhouses</MudButton>
            </MudItem>
        </NotAuthorized>
    </AuthorizeView>


@*    <MudItem xs="12" sm="6">
        <MudPaper Class="d-flex align-center justify-center mud-width-full py-8">My orders</MudPaper>
    </MudItem>
    <MudItem xs="12" sm="6">
        <MudPaper Class="d-flex align-center justify-center mud-width-full py-8">Add product</MudPaper>
    </MudItem>*@
</MudGrid>

@code {
    // protected async override Task OnInitializedAsync()
    // {

    // }

    protected async override Task OnParametersSetAsync()
    {
        await base.OnParametersSetAsync();
        int? idFarmhouse = UserStateService.CurrentUser?.IdFarmhouse;
        var idUser = UserStateService.CurrentUser?.IdUser;
    }
}

@* SMALL TASKS *@

@* Ujednolić  (int)UserStateService.CurrentUser.IdFarmhouse itd z usera danymi *@

@* Edycja Produktu - Image *@
@* Edycja Farma - Image OK *@
@* zrobić serwis i funkcje tam dla private async Task HandleFileSelected(InputFileChangeEventArgs e) *@
@* Oraz dla edycji  *@

@* Alerty  *@

@* Cz1 *@
@* Zmiana otawrcie/zamknięcie favorite farmhouse - OK *@
@* Dodanie nowego produktu od favorite  - OK *@
@* Edycja produktu od favorite  - OK -> Sprawdzac model *@
@* Edycja na mapie lub Zmiany informacji (adress, nr telefonu lub coś innego) od favoriteod favorite  -> Sprawdzac model *@

@* Cz2 *@
@* Ktoś polubi moj farmhouse  - OK *@
@* DOda opinie o moim farmhouse - OK *@

@* ------------------- *@

@* Pomysły na potem *@
@* reszte odnośnie ustawień uzytkownika i ludzi co są (np. ich telefony) - 1 konto ale można wpisać wiele numerów telefonu / wiele kontaktów (albo max 3)  *@
@* Przygotować wykres dla Farmhouse *@
@* Zrobic widok, aby sprawdzić tylko te co nas interesuja czy mają cos nowego - jak mają coś nowego to powinna być lista rzeczy jak wejdzeimy w apke lub lista powiadomień
albo i lista wszystkich rzeczy jakie mają i lista nowych (np. z ostatnich 30 dni) *@
@* Lista zamówień dla gospodarza ??? *@
@* Inny widok - same kafelki na tableta widok *@
@* Light/Dark mode *@

@* Usunąć mudBlazor i ustawić UI przy pomocy Radzen ?? - Mud daje rade na .NET8 *@
@* https://github.com/radzenhq/radzen-blazor *@


@* hosting  *@
@* Płatny dla ponoć dobry *@
@* https://www.webio.pl/ *@

@* Do sprawdzenia *@
@* https://www.ovhcloud.com/pl/ *@
@* https://azure.microsoft.com/pl-pl/products/app-service/ *@

@* Ponoć free *@
@* https://freeasphosting.net/ *@

@page "/"
@inject UserStateService UserStateService

<PageTitle>Index | @Globals.AppName</PageTitle>

<MudGrid Class="m-0 w-100">
    <MudItem xs="12" Class="dashboard-paper-name-farmhouse">
        <MudPaper Class="d-flex align-center justify-center mud-width-full py-8">- @loc["Dashboard_LocalFarmer"] -</MudPaper>
    </MudItem>

    <AuthorizeView>
        <Authorized>
            @if (UserStateService.CurrentUser?.IdFarmhouse != null)
            {
                <MudItem xs="12" sm="6" Class="dashboard-button">
                    <MudButton Variant="Variant.Outlined" Class="d-flex align-center justify-center mud-width-full py-8" Href="/myproducts">@loc["Product_My_Products"]</MudButton>
                </MudItem>
                <MudItem xs="12" sm="6" Class="dashboard-button">
                    <MudButton Variant="Variant.Outlined" Class="d-flex align-center justify-center mud-width-full py-8" Href="/addproduct">@loc["Product_Add_Product"]</MudButton>
                </MudItem>
                <MudItem xs="12" sm="6" Class="dashboard-button">
                    <MudButton Variant="Variant.Outlined" Class="d-flex align-center justify-center mud-width-full py-8" Href="/notes">@loc["X_Notes"]</MudButton>
                </MudItem>
                <MudItem xs="12" sm="6" Class="dashboard-button">
                    <MudButton Variant="Variant.Outlined" Class="d-flex align-center justify-center mud-width-full py-8" Href="/editfarmhouse">@loc["Farmhouse_Edit_Farmhouse"]</MudButton>
                </MudItem>
            }
            else
            {
                <MudItem xs="12" sm="6" Class="dashboard-button">
                    <MudButton Variant="Variant.Outlined" Class="d-flex align-center justify-center mud-width-full py-8" Href="/addFarmhouse">@loc["Farmhouse_Add_Farmhouse"]</MudButton>
                </MudItem>
                <MudItem xs="12" sm="6" Class="dashboard-button">
                    <MudButton Variant="Variant.Outlined" Class="d-flex align-center justify-center mud-width-full py-8" Href="/farmhouses">@loc["Farmhouse_List_Farmhouses"]</MudButton>
                </MudItem>
                <MudItem xs="12" sm="6" Class="dashboard-button">
                    <MudButton Variant="Variant.Outlined" Class="d-flex align-center justify-center mud-width-full py-8" Href="/notes">@loc["X_Notes"]</MudButton>
                </MudItem>
            }
        </Authorized>
        <NotAuthorized>
            <MudItem xs="12" Class="dashboard-paper-name-farmhouse">
                <MudPaper Class="d-flex flex-column align-center mud-width-full py-8">
                    <MudText Typo="Typo.h5">@loc["Dashboard_Hello"] </MudText>
                        <MudText Typo="Typo.h5">@loc["Dashboard_Hello2"] </MudText>
                </MudPaper>
            </MudItem>
            <MudItem xs="12" sm="6" Class="dashboard-button">
                <MudButton Variant="Variant.Outlined" Class="d-flex align-center justify-center mud-width-full py-8" Href="/register">@loc["Account_Create_Account"]</MudButton>
            </MudItem>
            <MudItem xs="12" sm="6" Class="dashboard-button">
                <MudButton Variant="Variant.Outlined" Class="d-flex align-center justify-center mud-width-full py-8" Href="/farmhouses">@loc["Farmhouse_List_Farmhouses"]</MudButton>
            </MudItem>
        </NotAuthorized>
    </AuthorizeView>
</MudGrid>

@code {
    protected override async Task OnParametersSetAsync()
    {
        await base.OnParametersSetAsync();
        int? idFarmhouse = UserStateService.CurrentUser?.IdFarmhouse;
        var idUser = UserStateService.CurrentUser?.IdUser;
    }
}

@*
Deploy aplikacje !!!
0. Dodać więcej pozycji aby spradzić sortowanie i od razu alerty
1. Alerty sprawdzić czy sie wszystko dobrze zapisuje itd
2. Zrobić deploy ->
    1. na darmowym coś nie śmiga dobrze - zle pokazuje appsettings - moze nei moze byc x2 taka sama nazwa, lub trzeba ustawić jako production deploy, a nie dev 
    2. Moze sprobować z tym darmowym i tam postawić, mam chyba 7 albo 14 dni free to akurat moze sie uda to latwiej ustawić
    3. https://www.smarterasp.net/ - create account -> dziala
3. PP - poprawić na sam koniec dane - reszta przygotowana
4. Localfarmer -> LocalSeller / LocalStory lub cos w ten desen 
farmhouse -> local i moze do wyboru farmer/własny produkt np: robi z wikiliny i na mapie filtr jakiś ustawić

*@

@* SMALL TASKS *@
@*
1.
Nalezy wykorzystać funkcje z ValidateService dla szerokości i wysokość geograficznej - pytanie czy gdzieś jeszcze to można zmienić? bo tylko mapa jest 
-> wydaje mi się, że dobrze by było wyłaczyć na chwile enabled i dodać kontrole z tych funkcji a potem ustawić to z powrtem
2.
- add farmhouse -> niech zapyta o dostęp do lokalizacji - jezeli pozwolimy to niech zczyta i ustawi nam to co znalazł

*@



@* ------------------- *@

@* hosting  *@
@* Płatny dla ponoć dobry *@
@* https://www.webio.pl/ - 14 dni trail - 75,00 zł za rok*@
@* https://www.smarterasp.net/ - to wyglada git - 60 dni trial - 3$ za 1 msc*@ 
@* a skad domene? bo ta sa serwery  *@
@* Do sprawdzenia *@
@* https://www.ovhcloud.com/pl/ *@
@* https://azure.microsoft.com/pl-pl/products/app-service/ *@

@* Ponoć free *@
@* https://freeasphosting.net/ *@


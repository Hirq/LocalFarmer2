@inject AuthenticationStateProvider GetAuthenticationStateAsync
@inject IAuthService AuthService 

<AuthorizeView>
    <Authorized>
        Hello, @context.User.Identity!.Name!  | @UserModel?.IdFarmhouse
    </Authorized>
</AuthorizeView>

@code{
    private UserDto? UserModel;

    protected async override Task OnInitializedAsync()
    {
        var authstate = await GetAuthenticationStateAsync.GetAuthenticationStateAsync();
        var user = authstate.User;
        var name = user.Identity?.Name;
        Console.WriteLine("name: " + name);
        if (name != null || !string.IsNullOrEmpty(name))
        {
            UserModel = await AuthService.GetUser(name);
        }
    }
}
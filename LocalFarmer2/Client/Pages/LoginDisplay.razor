@inject AuthenticationStateProvider GetAuthenticationStateAsync
@inject IAuthService AuthService 

<AuthorizeView>
    <Authorized>
        Hello, @context.User.Identity!.Name!
        <a href="LogOut">Log out</a>
    </Authorized>
    <NotAuthorized>
        <a href="Register">Register</a>
        <a href="Login">Log in</a>
    </NotAuthorized>
</AuthorizeView>

@code{
    protected async override Task OnInitializedAsync()
    {
        var authstate = await GetAuthenticationStateAsync.GetAuthenticationStateAsync();
        var user = authstate.User;
        var name = user.Identity.Name;

        var xxx = await AuthService.GetUser(name);
        Console.WriteLine(xxx.Name);
        Console.WriteLine(xxx.IdFarmhouse);
    }
}